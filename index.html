<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For My Anisha ‚ù§Ô∏è</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    /* --- CSS STYLES --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); 
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    /* CARD DESIGN */
    .card {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 40px;
      border-radius: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      border: 4px solid #fff;
      width: 90%;
      max-width: 400px;
      position: relative;
      z-index: 100; /* Ensures buttons are clickable */
    }

    .title {
      font-family: 'Sacramento', cursive;
      font-size: 32px;
      color: #d63384;
      margin: 20px 0;
      line-height: 1.3;
    }

    /* Bear Image */
    .img-container {
      display: flex;
      justify-content: center;
    }

    #mainBear {
      width: 170px;
      height: 170px;
      object-fit: cover;
      border-radius: 50%;
      border: 5px solid white;
      box-shadow: 0 0 25px rgba(255, 77, 109, 0.6); 
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* BUTTONS */
    .buttons {
      margin-top: 20px;
      height: 60px;
      position: relative; /* Helps organize layout */
    }

    button {
      padding: 12px 30px;
      font-size: 18px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      transition: all 0.3s ease;
      position: absolute; /* Needed for movement */
    }

    #yes {
      background: #ff4d6d;
      color: white;
      box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
      left: 15%; /* Position Left */
      z-index: 101;
    }

    #no {
      background: #fff;
      color: #555;
      border: 1px solid #ccc;
      right: 15%; /* Position Right */
      z-index: 101;
    }

    /* SLIDESHOW OVERLAY */
    .hidden { display: none !important; }

    #slideshowContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      z-index: 999;
    }

    #photoWrapper {
      width: 100%;
      height: 100%;
      position: relative;
    }

    .slide-photo {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .slide-photo.active {
      opacity: 0.7; 
      animation: zoomEffect 6s linear infinite;
    }

    @keyframes zoomEffect {
      0% { transform: scale(1); }
      100% { transform: scale(1.1); }
    }

    /* QUOTES */
    .love-quote {
      position: absolute;
      bottom: 15%;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 20px;
      backdrop-filter: blur(3px);
      color: white;
      text-align: center;
      font-family: 'Sacramento', cursive;
      font-size: 28px;
      z-index: 10000;
      animation: fadeUp 1s ease;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translate(-50%, 20px); }
      to { opacity: 1; transform: translate(-50%, 0); }
    }

    /* FINAL HEART */
    .final-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 20000;
      animation: fadeIn 2s ease;
    }

    .big-heart {
      font-size: 100px;
      animation: heartBeat 1s infinite alternate;
    }

    .final-text {
      color: white;
      font-family: 'Sacramento', cursive;
      font-size: 40px;
      text-align: center;
      margin-top: 10px;
    }

    @keyframes heartBeat {
      0% { transform: scale(1); }
      100% { transform: scale(1.2); }
    }
    
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>

  <div class="card" id="proposalCard">
    <div class="img-container">
      <img src="bear.gif" alt="Cute Bear" id="mainBear">
    </div>

    <h2 class="title">Anisha Baby,<br>Will you be my Valentine?</h2>

    <div class="buttons">
      <button id="yes">Yes üíñ</button>
      <button id="no">No üôà</button>
    </div>
  </div>

  <div id="slideshowContainer" class="hidden">
    <div id="photoWrapper"></div>
    <div id="quoteDisplay" class="love-quote"></div>
  </div>

  <audio id="bgMusic" src="https://www.bensound.com/bensound-music/bensound-love.mp3" loop></audio>
  <audio id="noSound" src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-voice-laugh-343.mp3"></audio>

  <script>
    // --- CONFIGURATION ---
    const TOTAL_PHOTOS = 38; 
    const SLIDE_DURATION = 4000; 

    // QUOTES LIST
    const quotes = [
      "Babyyyyyyy, ‡§Ü‡§™ ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§æ‡§® ‡§π‡•à‡§Ç ‚ù§Ô∏è",
      "My heart beats only for you, JAAN! üíì",
      "‡§Ü‡§™‡§ï‡•Ä smile ‡§™‡§∞ ‡§Æ‡•à‡§Ç ‡•û‡§ø‡§¶‡§æ ‡§π‡•Ç‡§Å üòä",
      "You are my favorite notification üì≤",
      "‡§ú‡§æ‡§® ‡§≤‡•á‡§Ç‡§ó‡•Ä ‡§ï‡•ç‡§Ø‡§æ? You look so beautiful! üòç",
      "‡§Æ‡•Å‡§ù‡•á ‡§¨‡§∏ ‡§Ü‡§™ ‡§π‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è, Anisha ü§ù",
      "Every love story is beautiful, ‡§™‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§µ‡§æ‡§≤‡•Ä best ‡§π‡•à üìñ",
      "‡§Ü‡§™ ‡§π‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§π‡•à‡§Ç, baby üåç",
      "‡§Ü‡§™‡§ï‡•á ‡§¨‡§ø‡§®‡§æ ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§ï‡§π‡§æ‡§Å? You are my peace üè†",
      "‡§Ø‡•á ‡§¶‡§ø‡§≤ ‡§Ö‡§¨ ‡§Ü‡§™‡§ï‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à üíò",
      "I love you more than Chai ‚òï",
      "‡§Ü‡§™ ‡§Æ‡•á‡§∞‡§æ Forever ‚ôæÔ∏è love ‡§π‡•à‡§Ç ‚ú®",
      "My partner in crime, ‡§Æ‡•á‡§∞‡•Ä Anisha babyüòé",
      "‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§Å‡§ñ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§¶‡•Ç ‡§π‡•à üëÄ",
      "You are the reason I smile today üòä",
      "‡§∏‡§ö ‡§ï‡§π‡•Ç‡§Å? ‡§Ü‡§™‡§ï‡•á ‡§ú‡•à‡§∏‡§æ ‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç üåπ",
      "‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ú‡•ã‡•ú‡•Ä Number 1 ‡§π‡•à üíë",
      "Life is better ‡§ú‡§¨ ‡§Ü‡§™ ‡§∏‡§æ‡§• ‡§π‡•à‡§Ç üë´",
      "‡§Ü‡§™ ‡§π‡§Å‡§∏‡§§‡•Ä ‡§π‡•à‡§Ç ‡§§‡•ã ‡§Æ‡•á‡§∞‡§æ ‡§¶‡§ø‡§≤ ‡§ñ‡•Å‡§∂ ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à üòÇ",
      "Forever ‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§• ‡§π‡•ã‡§®‡§æ ‡§π‡•à üëµüë¥",
      "You are my sunshine, ‡§Æ‡•á‡§∞‡§æ ‡§∏‡•ã‡§®‡§æ ‚òÄÔ∏è",
      "‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§• ‡§µ‡§ï‡•ç‡§§ ‡§ï‡§æ ‡§™‡§§‡§æ ‡§π‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§≤‡§§‡§æ ‚è≥",
      "You are perfect, ‡§¨‡§ø‡§≤‡§ï‡•Å‡§≤ perfect üíé",
      "‡§Æ‡•á‡§∞‡•á ‡§¶‡§ø‡§≤ ‡§ï‡•Ä ‡§∞‡§æ‡§®‡•Ä, Anisha üëë",
      "I choose you, ‡§Ü‡§ú ‡§î‡§∞ ‡§π‡§Æ‡•á‡§∂‡§æ ü§û",
      "‡§Ü‡§™‡§ï‡•á ‡§¨‡§ø‡§®‡§æ ‡§Æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§≤‡§ó‡§§‡§æ üôà",
      "You are my dream come true, ‡§∏‡§ö‡•ç‡§ö‡•Ä! üí≠",
      "‡§¨‡§∏ ‡§è‡§ï ‡§®‡•õ‡§∞ ‡§¶‡•á‡§ñ ‡§ï‡•á ‡§¶‡§ø‡§≤ garden garden ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à üå∏",
      "Love you to the moon and back, baby üåô",
      "‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§æ‡§Å‡§∏‡•á‡§Ç ‡§≠‡•Ä ‡§Ü‡§™‡§ï‡•á ‡§®‡§æ‡§Æ ‡§∏‡•á ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à‡§Ç üí®",
      "Anisha, ‡§Ü‡§™ ‡§Æ‡•á‡§∞‡•Ä lifeline ‡§π‡•à‡§Ç üè•",
      "‡§Ü‡§™‡§ï‡•á ‡§π‡§æ‡§• ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡§æ ‡§π‡§æ‡§•, best feeling ever ü§ù",
      "Thank you for being mine, ‡§ú‡§æ‡§® üçÄ",
      "‡§Ü‡§™‡§∏‡•á ‡§¶‡•Ç‡§∞ ‡§∞‡§π‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ‡§§‡§æ ‡§Ö‡§¨ ü•∫",
      "My soulmate, ‡§Æ‡•á‡§∞‡•Ä ‡§π‡§Æ‡§∏‡•û‡§∞ üëª",
      "I promise to love you, ‡§π‡§Æ‡•á‡§∂‡§æ-‡§π‡§Æ‡•á‡§∂‡§æ ‚ù§Ô∏è",
      "‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§õ‡•ã‡•ú ‡§ï‡•á ‡§¨‡§∏ ‡§Ü‡§™‡§ï‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•Ç‡§Å üèÉ‚Äç‚ôÇÔ∏è",
      "Will you be my Valentine forever, Anisha? üíç"
    ];

    // SELECTORS
    const yesBtn = document.getElementById("yes");
    const noBtn = document.getElementById("no");
    const proposalCard = document.getElementById("proposalCard");
    const slideshowContainer = document.getElementById("slideshowContainer");
    const photoWrapper = document.getElementById("photoWrapper");
    const quoteDisplay = document.getElementById("quoteDisplay");
    const bgMusic = document.getElementById("bgMusic");
    const noSound = document.getElementById("noSound");

    // 1. "NO" BUTTON LOGIC (Fixed for Mobile)
    const moveNoButton = (e) => {
      if (e) e.preventDefault(); // Stop click event
      
      // Play Sound (Try/Catch in case of browser block)
      try {
        noSound.currentTime = 0;
        noSound.play();
      } catch(err) {}

      // Move Button
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);

      noBtn.style.position = "fixed";
      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }

    noBtn.addEventListener("mouseover", moveNoButton);
    noBtn.addEventListener("touchstart", moveNoButton);
    noBtn.addEventListener("click", moveNoButton); // Extra safety

    // 2. "YES" BUTTON LOGIC
    yesBtn.addEventListener("click", () => {
      proposalCard.style.display = "none";
      slideshowContainer.classList.remove("hidden");
      
      try { bgMusic.play(); } catch(err) {}

      // Safe Confetti Call
      if (typeof confetti === "function") {
        confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
      }

      initSlideshow();
    });

    // 3. SLIDESHOW LOGIC
    function initSlideshow() {
      // Generate Photos
      for (let i = 1; i <= TOTAL_PHOTOS; i++) {
        const img = document.createElement("img");
        img.src = `photos/${i}.jpg`; 
        img.className = "slide-photo";
        photoWrapper.appendChild(img);
      }

      const photos = document.querySelectorAll(".slide-photo");
      let currentIndex = 0;
      let slideInterval;

      function showFrame(index) {
        photos.forEach(p => p.classList.remove("active"));
        if(photos[index]) photos[index].classList.add("active");
        quoteDisplay.innerText = quotes[index % quotes.length];
      }

      showFrame(currentIndex);

      slideInterval = setInterval(() => {
        if (currentIndex >= TOTAL_PHOTOS - 1) {
          clearInterval(slideInterval);
          showFinalSurprise();
        } else {
          currentIndex++;
          showFrame(currentIndex);
        }
      }, SLIDE_DURATION);
    }

    // 4. FINAL SURPRISE
    function showFinalSurprise() {
      quoteDisplay.style.display = "none";
      
      const overlay = document.createElement("div");
      overlay.className = "final-overlay";
      overlay.innerHTML = `
        <div class="big-heart">‚ù§Ô∏è</div>
        <div class="final-text">I Love You, Anisha!</div>
        <div class="final-text" style="font-size: 18px;">(Forever & Always)</div>
      `;
      document.body.appendChild(overlay);

      if (typeof confetti === "function") {
        confetti({ particleCount: 300, spread: 180, origin: { y: 0.5 } });
      }
    }
  </script>
</body>
</html>
